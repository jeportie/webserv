# ❌ location en dehors d’un bloc server
location /images {
    root /var/www/images;
}

server {
    # ❌ directive listen dupliquée
    listen 127.0.0.1:8080;
    listen 127.0.0.1:8081;

    # ❌ root manquant (obligatoire)
    server_name example.com;

    # ❌ directive inconnue
    bananas on;

    # ✅ error_page correct (inclus pour comparaison)
    error_page 404 /404.html;

    # ❌ mauvais type pour client_max_body_size
    client_max_body_size bananas;

    # ❌ méthode non supportée
    allowed_methods GET POST PUT DELETE;

    # ❌ upload activé sans dossier de destination
    upload_enable on;

    # ❌ return_code sans return_url
    return_code 301;

    location /upload {
        # ✅ root locale (valide)
        root /uploads;

        # ❌ upload_store défini alors que upload_enable est off (par défaut)
        upload_store /tmp/uploads;

        # ❌ directive dupliquée
        root /something/else;

        # ❌ mauvais booléen
        upload_enable maybe;

        # ❌ return_url sans return_code
        return_url http://example.com;

        # ❌ mauvaise méthode HTTP
        allowed_methods PATCH;
    }

    location /cgi-bin {
        # ❌ cgi_executor vide
        cgi_executor;

        # ❌ default_file dupliqué
        default_file index.html;
        default_file home.html;
    }
}
