server {
    listen 8087;
    root www;
    error_page 404 /errors/404.html;
    allowed_methods POST GET DELETE;
    #client_max_body_size 10;

    location /cgi-bin/ {
        root www/prout;
        cgi_executor .py /usr/bin/python3;
    }

    location /upload/ {
        root www/toto;
        allowed_methods POST GET DELETE;
        upload_enable on;
        upload_store uploads;
    }

    location /redirect 
    {
        return 301 http://google.com;
    }

    location /autoindex {
    root www/html;
    index index.html;
    autoindex on;
    }
}

server {
    listen 8087;
    server_name example.com;
    root www;
    error_page 404 /errors/404.html;
    allowed_methods POST GET DELETE;
    index index2.html;
    location /cgi-bin/ {
        root www/prout;
        cgi_executor .py /usr/bin/python3;
    }

    location /upload/ {
        root www/toto;
        allowed_methods POST GET DELETE;
        upload_enable on;
        upload_store uploads;
    }

    location /redirect 
    {
        return 301 http://google.com;
    }

    location /autoindex {
    root www/html;
    index index.html;
    autoindex on;
    }
}

server {
    listen 8088;
    root www;
    error_page 404 /errors/404.html;
    allowed_methods POST GET DELETE;

    location /cgi-bin/ {
        root www/eronner;
        cgi_executor .py /usr/bin/python3;
    }

    location /upload/ {
        root www/toto;
        allowed_methods POST GET DELETE;
        upload_enable on;
        upload_store uploads;
    }

    location /redirect 
    {
        return 301 http://google.com;
    }

    location /autoindex {
    root www/html;
    index index.html;
    autoindex on;
    }
}